#+title: Todo

* DONE [4/4] Overlay actions
- [X] Add overlay actions to non-implemented directive
  - clear and implement/ask/revise should suffice
- [X] When processing, show abort
- [X] Add overlay actions to discuss directive
  - when successful, something like
    - clear
    - go to answer
- [X] Add overlay actions to references
  - Link/Unlink
  - Commentary
  - Clear

* TODO [/] Undo system
- [ ] Adjust undo system to macher backend

* DONE Suppress diff buffer opening when patch is ready

* TODO Adjust overlay such that it takes all modifications into account
- This means move overlay start to the smallest point from the adjustments and
  the end to the largest point

* DONE When the diff is applied, check if any macher-instruct overlay is affected and adjust

* Notes
** Using tools vs including references and directives
- ~evedel~ includes the content of directives and references in the request prompt.
- It is possible to do this with the tools provided by ~macher~ *BUT* this makes the request
  1. Less reliable
  2. Slower
- This is probably also dependent on the used model
** Patch buffer
- It would be nice if you could toggle if ~macher~ automatically opens the patch buffer or not
